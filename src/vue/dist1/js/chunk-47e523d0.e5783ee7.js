(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-47e523d0"],{"12ae":function(t,a,e){t.exports=e.p+"img/loading.2cf7e732.gif"},"380a":function(t,a,e){},"3f42":function(t,a,e){},"7d65":function(t,a,e){},"957c":function(t,a,e){"use strict";function s(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function n(t,a){for(var e=0;e<a.length;e++){var s=a[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function i(t,a,e){return a&&n(t.prototype,a),e&&n(t,e),t}var o=function(){function t(){s(this,t),this.validFormReg={nickName:{reg:/^[a-zA-Z0-9_]{4,12}$/,msg:"用户名格式不正确"},phone:{reg:/^1[3-9]\d{9}$/,msg:"手机号格式不正确"},password:{reg:/^\w{6,16}$/,msg:"密码格式不正确"}}}return i(t,[{key:"validForm",value:function(t,a){for(var e in t)if(!this.validFormReg[e].reg.test(t[e]))return a.$toast(this.validFormReg[e].msg),!1;return!0}}]),t}();a["a"]=new o},"9d64":function(t,a,e){t.exports=e.p+"img/logo.982b0d1d.png"},a2b1:function(t,a,e){"use strict";var s=e("3f42"),n=e.n(s);n.a},a55b:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"register"},[e("loading",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}]}),e("van-nav-bar",{attrs:{title:"登录","left-text":"注册","right-text":"关闭"},on:{"click-left":function(a){return t.goPage("Register")},"click-right":function(a){return t.goPage("My")}}}),e("div",{staticClass:"register-box"},[e("van-form",{on:{submit:t.onSubmit}},[e("van-field",{attrs:{type:"text",label:"手机号",placeholder:"11位手机号",maxlength:"11"},model:{value:t.userMsg.phone,callback:function(a){t.$set(t.userMsg,"phone",a)},expression:"userMsg.phone"}},[e("van-icon",{staticClass:"register-icon fa fa-phone",attrs:{slot:"left-icon"},slot:"left-icon"})],1),e("van-field",{attrs:{type:t.isShow?"password":"text",label:"密码",placeholder:"数字字母_组成(6-16位)",maxlength:"16"},on:{"click-right-icon":t.isToggleShow},model:{value:t.userMsg.password,callback:function(a){t.$set(t.userMsg,"password",a)},expression:"userMsg.password"}},[e("van-icon",{staticClass:"register-icon fa fa-lock",attrs:{slot:"left-icon"},slot:"left-icon"}),e("van-icon",{staticClass:"register-icon fa",class:[t.isShow?"fa-eye-slash":"fa-eye"],attrs:{slot:"right-icon"},slot:"right-icon"})],1),e("div",{staticStyle:{margin:"16px"}},[e("van-button",{staticClass:"register-btn",attrs:{round:"",block:"",type:"info","native-type":"submit"}},[t._v("登录")])],1)],1)],1),t._m(0),t._m(1)],1)},n=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"logo"},[s("img",{staticClass:"auto-img logoImg",attrs:{src:e("9d64"),alt:""}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("p",{staticClass:"relus"},[t._v(" 已阅读并同意以下协议 "),e("a",{attrs:{href:"javascript:;"}},[t._v("墨香书城平台服务协议")]),t._v("。 "),e("a",{attrs:{href:"javascript:;"}},[t._v("隐私权政策")]),t._v("、 "),e("a",{attrs:{href:"javascript:;"}},[t._v("法律声明")]),t._v("、 "),e("a",{attrs:{href:"javascript:;"}},[t._v("客户端服务协议")])])}],i=e("957c"),o=(e("7d65"),e("c428")),r={components:{loading:o["a"]},data:function(){return{isLoading:!1,userMsg:{phone:"",password:""},isShow:!0}},methods:{isToggleShow:function(){this.isShow=!this.isShow},onSubmit:function(){var t=this;if(i["a"].validForm(this.userMsg,this)){var a=Object.assign({},this.userMsg);a.appkey=this.appkey,this.isLoading=!0,this.axios({method:"post",url:"/login",data:a}).then((function(a){200==a.data.code?(t.goPage("My"),localStorage.setItem("__Tk",a.data.token)):t.$toast(a.data.msg),t.isLoading=!1})).catch((function(a){t.isLoading=!1}))}},goPage:function(t){this.$router.push({name:t})}}},c=r,l=(e("a2b1"),e("2877")),u=Object(l["a"])(c,s,n,!1,null,"f537e354",null);a["default"]=u.exports},aca0:function(t,a,e){"use strict";var s=e("380a"),n=e.n(s);n.a},c428:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},n=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"loading-box"},[s("img",{attrs:{src:e("12ae"),alt:"图片加载ing"}})])}],i={name:"loading"},o=i,r=(e("aca0"),e("2877")),c=Object(r["a"])(o,s,n,!1,null,"7136a564",null);a["a"]=c.exports}}]);
//# sourceMappingURL=chunk-47e523d0.e5783ee7.js.map