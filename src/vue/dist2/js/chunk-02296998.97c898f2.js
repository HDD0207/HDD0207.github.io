(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02296998"],{"33d6":function(t,s,e){"use strict";var a=e("4bb5"),i=e.n(a);i.a},"4bb5":function(t,s,e){},"4db2":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"forgetPass"},[e("van-nav-bar",{attrs:{title:"忘记密码","left-text":"返回"},on:{"click-left":function(s){return t.goBack("Register")}}}),e("div",{staticClass:"box"},[t.isPass?e("div",[e("van-form",{on:{submit:t.submit}},[e("van-field",{attrs:{type:"text",label:"手机号",placeholder:"注册时手机号","left-icon":"phone-o",maxlength:"11"},model:{value:t.msg.phone,callback:function(s){t.$set(t.msg,"phone",s)},expression:"msg.phone"}}),e("van-field",{attrs:{type:t.isShow?"password":"text",label:"新密码",placeholder:"字母数字_组合(6-16位)","left-icon":"lock",maxlength:"16"},on:{"click-right-icon":t.isToggleShow},model:{value:t.msg.password,callback:function(s){t.$set(t.msg,"password",s)},expression:"msg.password"}},[e("van-icon",{staticClass:"register-icon fa",class:[t.isShow?"fa-eye-slash":"fa-eye"],attrs:{slot:"right-icon"},slot:"right-icon"})],1),e("div",{staticClass:"next-btn"},[e("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[t._v("提交")])],1)],1)],1):e("div",[e("van-form",[e("van-field",{attrs:{type:"text",label:"邮箱",placeholder:"邮箱地址"},model:{value:t.userData.email,callback:function(s){t.$set(t.userData,"email",s)},expression:"userData.email"}}),e("van-field",{key:"code",attrs:{type:"text",label:"验证码",placeholder:"6位验证码"},scopedSlots:t._u([{key:"button",fn:function(){return[e("van-button",{attrs:{size:"small",type:"info",disabled:t.isSend},on:{click:t.getCode}},[t._v(t._s(t.tip))])]},proxy:!0}],null,!1,1071400086),model:{value:t.userData.code,callback:function(s){t.$set(t.userData,"code",s)},expression:"userData.code"}}),e("div",{staticClass:"next-btn"},[e("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"},on:{click:t.next}},[t._v("下一步")])],1)],1)],1)])],1)},i=[],o={data:function(){return{tip:"发送验证码",isSend:!1,isPass:!1,isShow:!0,msg:{phone:"",password:""},userData:{email:"",code:""},emailReg:{reg:/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,msg:"邮箱格式不正确"},userReg:[{reg:/^1[3-9]\d{9}$/,msg:"手机号格式不正确"},{reg:/^\w{6,16}$/,msg:"密码格式不正确"}]}},methods:{goBack:function(){this.$router.go(-1)},isToggleShow:function(){this.isShow=!this.isShow},next:function(){var t=this;this.emailReg.reg.test(this.userData.email)?(this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"post",url:"/checkValidCode",data:{appkey:this.appkey,validCode:this.userData.code}}).then((function(s){t.$toast.clear(),"K001"==s.data.code?t.isPass=!0:t.$toast(s.data.msg)})).catch((function(s){t.$toast.clear()}))):this.$toast(this.emailReg.msg)},getCode:function(){var t=this;if(this.emailReg.reg.test(this.userData.email)){var s=60;this.tip=s+"秒后重新发送",this.isSend=!0;var e=setInterval((function(){0==s?(clearInterval(e),e=null,t.tip="发送验证码",t.isSend=!1):(s--,t.tip=s+"秒后重新发送")}),1e3);this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"post",url:"/emailValidCode",data:{appkey:this.appkey,email:this.userData.email}}).then((function(s){t.$toast.clear(),t.$toast(s.data.msg)})).catch((function(s){t.$toast.clear()}))}else this.$toast(this.emailReg.msg)},submit:function(){var t=this;this.userReg[0].reg.test(this.msg.phone)?this.userReg[1].reg.test(this.msg.password)?(this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"post",url:"/retrievePassword",data:{appkey:this.appkey,phone:this.msg.phone,password:this.msg.password}}).then((function(s){t.$toast.clear(),"L001"==s.data.code?t.$router.push({name:"Login"}):t.$toast(s.data.msg)})).catch((function(s){t.$toast.clear()}))):this.$toast(this.userReg[1].msg):this.$toast(this.userReg[0].msg)}}},n=o,l=(e("33d6"),e("9ca4")),r=Object(l["a"])(n,a,i,!1,null,"c6a52b74",null);s["default"]=r.exports}}]);
//# sourceMappingURL=chunk-02296998.97c898f2.js.map